ARM GAS  /tmp/ccYuozWE.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"rs485.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "../../../mod/rs485/rs485.c"
  19              		.section	.text.rs485_transmit_byte,"ax",%progbits
  20              		.align	1
  21              		.global	rs485_transmit_byte
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	rs485_transmit_byte:
  27              	.LVL0:
  28              	.LFB144:
   1:../../../mod/rs485/rs485.c **** /*******************************************************************************
   2:../../../mod/rs485/rs485.c **** *
   3:../../../mod/rs485/rs485.c **** * FILE: 
   4:../../../mod/rs485/rs485.c **** * 		rs485.c
   5:../../../mod/rs485/rs485.c **** *
   6:../../../mod/rs485/rs485.c **** * DESCRIPTION: 
   7:../../../mod/rs485/rs485.c **** * 		Contains API functions to transmit data over RS485 
   8:../../../mod/rs485/rs485.c **** *
   9:../../../mod/rs485/rs485.c **** *******************************************************************************/
  10:../../../mod/rs485/rs485.c **** 
  11:../../../mod/rs485/rs485.c **** 
  12:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  13:../../../mod/rs485/rs485.c ****  Standard Includes                                                                     
  14:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
  15:../../../mod/rs485/rs485.c **** #if defined( GROUND_STATION )
  16:../../../mod/rs485/rs485.c **** 	#include "sdr_pin_defines_A0005.h"
  17:../../../mod/rs485/rs485.c **** #elif defined( ENGINE_CONTROLLER )
  18:../../../mod/rs485/rs485.c **** 	#include "sdr_pin_defines_L0002.h"
  19:../../../mod/rs485/rs485.c **** #endif
  20:../../../mod/rs485/rs485.c **** 
  21:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  22:../../../mod/rs485/rs485.c ****  Project Includes                                                                     
  23:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
  24:../../../mod/rs485/rs485.c **** #include "main.h"
  25:../../../mod/rs485/rs485.c **** #include "rs485.h"
  26:../../../mod/rs485/rs485.c **** 
  27:../../../mod/rs485/rs485.c **** 
  28:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  29:../../../mod/rs485/rs485.c **** Global Variables                                                                  
  30:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
ARM GAS  /tmp/ccYuozWE.s 			page 2


  31:../../../mod/rs485/rs485.c **** 
  32:../../../mod/rs485/rs485.c **** 
  33:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  34:../../../mod/rs485/rs485.c ****  Procedures 
  35:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
  36:../../../mod/rs485/rs485.c **** 
  37:../../../mod/rs485/rs485.c **** 
  38:../../../mod/rs485/rs485.c **** /*******************************************************************************
  39:../../../mod/rs485/rs485.c **** *                                                                              *
  40:../../../mod/rs485/rs485.c **** * PROCEDURE:                                                                   *
  41:../../../mod/rs485/rs485.c **** * 		rs485_transmit_byte                                                    *
  42:../../../mod/rs485/rs485.c **** *                                                                              *
  43:../../../mod/rs485/rs485.c **** * DESCRIPTION:                                                                 *
  44:../../../mod/rs485/rs485.c **** * 		transmits a byte over RS485                                            *
  45:../../../mod/rs485/rs485.c **** *                                                                              *
  46:../../../mod/rs485/rs485.c **** *******************************************************************************/
  47:../../../mod/rs485/rs485.c **** RS485_STATUS rs485_transmit_byte 
  48:../../../mod/rs485/rs485.c **** 	(
  49:../../../mod/rs485/rs485.c ****     uint8_t tx_byte	
  50:../../../mod/rs485/rs485.c **** 	)
  51:../../../mod/rs485/rs485.c **** {
  29              		.loc 1 51 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 51 1 is_stmt 0 view .LVU1
  34 0000 00B5     		push	{lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 4
  37              		.cfi_offset 14, -4
  38 0002 83B0     		sub	sp, sp, #12
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
  41 0004 8DF80700 		strb	r0, [sp, #7]
  52:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  53:../../../mod/rs485/rs485.c ****  Local Variables
  54:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
  55:../../../mod/rs485/rs485.c **** HAL_StatusTypeDef hal_status;    /* Return codes from HAL */
  42              		.loc 1 55 1 is_stmt 1 view .LVU2
  56:../../../mod/rs485/rs485.c **** 
  57:../../../mod/rs485/rs485.c **** 
  58:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  59:../../../mod/rs485/rs485.c ****  Initializations 
  60:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
  61:../../../mod/rs485/rs485.c **** hal_status = HAL_OK;
  43              		.loc 1 61 1 view .LVU3
  44              	.LVL1:
  62:../../../mod/rs485/rs485.c **** 
  63:../../../mod/rs485/rs485.c **** 
  64:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
  65:../../../mod/rs485/rs485.c ****  API Function Implementation 
  66:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
  67:../../../mod/rs485/rs485.c **** 
  68:../../../mod/rs485/rs485.c **** /* Transmit byte */
  69:../../../mod/rs485/rs485.c **** hal_status = HAL_UART_Transmit( &( RS485_HUART  ),
  45              		.loc 1 69 1 view .LVU4
  46              		.loc 1 69 14 is_stmt 0 view .LVU5
ARM GAS  /tmp/ccYuozWE.s 			page 3


  47 0008 0123     		movs	r3, #1
  48 000a 1A46     		mov	r2, r3
  49 000c 0DF10701 		add	r1, sp, #7
  50 0010 0348     		ldr	r0, .L4
  51              	.LVL2:
  52              		.loc 1 69 14 view .LVU6
  53 0012 FFF7FEFF 		bl	HAL_UART_Transmit
  54              	.LVL3:
  70:../../../mod/rs485/rs485.c ****                                 &tx_byte         , 
  71:../../../mod/rs485/rs485.c ****                                 sizeof( tx_byte ), 
  72:../../../mod/rs485/rs485.c ****                                 HAL_DEFAULT_TIMEOUT );
  73:../../../mod/rs485/rs485.c **** 
  74:../../../mod/rs485/rs485.c **** /* Return HAL status */
  75:../../../mod/rs485/rs485.c **** if ( hal_status != HAL_OK )
  55              		.loc 1 75 1 is_stmt 1 view .LVU7
  56              		.loc 1 75 4 is_stmt 0 view .LVU8
  57 0016 00B1     		cbz	r0, .L2
  76:../../../mod/rs485/rs485.c **** 	{
  77:../../../mod/rs485/rs485.c **** 	return RS485_ERROR;
  58              		.loc 1 77 9 view .LVU9
  59 0018 0120     		movs	r0, #1
  60              	.LVL4:
  61              	.L2:
  78:../../../mod/rs485/rs485.c **** 	}
  79:../../../mod/rs485/rs485.c **** else
  80:../../../mod/rs485/rs485.c **** 	{
  81:../../../mod/rs485/rs485.c **** 	return RS485_OK;
  82:../../../mod/rs485/rs485.c **** 	}
  83:../../../mod/rs485/rs485.c **** } /* rs485_transmit_byte */
  62              		.loc 1 83 1 view .LVU10
  63 001a 03B0     		add	sp, sp, #12
  64              	.LCFI2:
  65              		.cfi_def_cfa_offset 4
  66              		@ sp needed
  67 001c 5DF804FB 		ldr	pc, [sp], #4
  68              	.L5:
  69              		.align	2
  70              	.L4:
  71 0020 00000000 		.word	huart5
  72              		.cfi_endproc
  73              	.LFE144:
  75              		.section	.text.rs485_transmit,"ax",%progbits
  76              		.align	1
  77              		.global	rs485_transmit
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	rs485_transmit:
  83              	.LVL5:
  84              	.LFB145:
  84:../../../mod/rs485/rs485.c **** 
  85:../../../mod/rs485/rs485.c **** 
  86:../../../mod/rs485/rs485.c **** /*******************************************************************************
  87:../../../mod/rs485/rs485.c **** *                                                                              *
  88:../../../mod/rs485/rs485.c **** * PROCEDURE:                                                                   *
  89:../../../mod/rs485/rs485.c **** * 		rs485_transmit                                                         *
  90:../../../mod/rs485/rs485.c **** *                                                                              *
ARM GAS  /tmp/ccYuozWE.s 			page 4


  91:../../../mod/rs485/rs485.c **** * DESCRIPTION:                                                                 *
  92:../../../mod/rs485/rs485.c **** * 		transmits a buffer of bytes over RS485                                 *
  93:../../../mod/rs485/rs485.c **** *                                                                              *
  94:../../../mod/rs485/rs485.c **** *******************************************************************************/
  95:../../../mod/rs485/rs485.c **** RS485_STATUS rs485_transmit
  96:../../../mod/rs485/rs485.c **** 	(
  97:../../../mod/rs485/rs485.c ****     void*    tx_buffer_ptr,   /* Pointer to buffer data    */
  98:../../../mod/rs485/rs485.c **** 	size_t   buffer_size  ,   /* Number of bytes in buffer */
  99:../../../mod/rs485/rs485.c **** 	uint32_t timeout          /* Timeout in ms             */
 100:../../../mod/rs485/rs485.c **** 	)
 101:../../../mod/rs485/rs485.c **** {
  85              		.loc 1 101 1 is_stmt 1 view -0
  86              		.cfi_startproc
  87              		@ args = 0, pretend = 0, frame = 0
  88              		@ frame_needed = 0, uses_anonymous_args = 0
  89              		.loc 1 101 1 is_stmt 0 view .LVU12
  90 0000 08B5     		push	{r3, lr}
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 8
  93              		.cfi_offset 3, -8
  94              		.cfi_offset 14, -4
  95 0002 1346     		mov	r3, r2
 102:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 103:../../../mod/rs485/rs485.c ****  Local Variables
 104:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 105:../../../mod/rs485/rs485.c **** HAL_StatusTypeDef hal_status;    /* Return codes from HAL */
  96              		.loc 1 105 1 is_stmt 1 view .LVU13
 106:../../../mod/rs485/rs485.c **** 
 107:../../../mod/rs485/rs485.c **** 
 108:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 109:../../../mod/rs485/rs485.c ****  Initializations 
 110:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 111:../../../mod/rs485/rs485.c **** hal_status = HAL_OK;
  97              		.loc 1 111 1 view .LVU14
  98              	.LVL6:
 112:../../../mod/rs485/rs485.c **** 
 113:../../../mod/rs485/rs485.c **** 
 114:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 115:../../../mod/rs485/rs485.c ****  API Function Implementation 
 116:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 117:../../../mod/rs485/rs485.c **** 
 118:../../../mod/rs485/rs485.c **** /* Transmit byte */
 119:../../../mod/rs485/rs485.c **** hal_status = HAL_UART_Transmit( &( RS485_HUART ),
  99              		.loc 1 119 1 view .LVU15
 100              		.loc 1 119 14 is_stmt 0 view .LVU16
 101 0004 8AB2     		uxth	r2, r1
 102              	.LVL7:
 103              		.loc 1 119 14 view .LVU17
 104 0006 0146     		mov	r1, r0
 105              	.LVL8:
 106              		.loc 1 119 14 view .LVU18
 107 0008 0248     		ldr	r0, .L9
 108              	.LVL9:
 109              		.loc 1 119 14 view .LVU19
 110 000a FFF7FEFF 		bl	HAL_UART_Transmit
 111              	.LVL10:
 120:../../../mod/rs485/rs485.c ****                                 tx_buffer_ptr  , 
ARM GAS  /tmp/ccYuozWE.s 			page 5


 121:../../../mod/rs485/rs485.c ****                                 buffer_size    , 
 122:../../../mod/rs485/rs485.c ****                                 timeout );
 123:../../../mod/rs485/rs485.c **** 
 124:../../../mod/rs485/rs485.c **** /* Return HAL status */
 125:../../../mod/rs485/rs485.c **** if ( hal_status != HAL_OK )
 112              		.loc 1 125 1 is_stmt 1 view .LVU20
 113              		.loc 1 125 4 is_stmt 0 view .LVU21
 114 000e 00B1     		cbz	r0, .L7
 126:../../../mod/rs485/rs485.c **** 	{
 127:../../../mod/rs485/rs485.c **** 	return RS485_ERROR;
 115              		.loc 1 127 9 view .LVU22
 116 0010 0120     		movs	r0, #1
 117              	.L7:
 128:../../../mod/rs485/rs485.c **** 	}
 129:../../../mod/rs485/rs485.c **** else
 130:../../../mod/rs485/rs485.c **** 	{
 131:../../../mod/rs485/rs485.c **** 	return RS485_OK;
 132:../../../mod/rs485/rs485.c **** 	}
 133:../../../mod/rs485/rs485.c **** 
 134:../../../mod/rs485/rs485.c **** } /* rs485_transmit */
 118              		.loc 1 134 1 view .LVU23
 119 0012 08BD     		pop	{r3, pc}
 120              	.L10:
 121              		.align	2
 122              	.L9:
 123 0014 00000000 		.word	huart5
 124              		.cfi_endproc
 125              	.LFE145:
 127              		.section	.text.rs485_receive_byte,"ax",%progbits
 128              		.align	1
 129              		.global	rs485_receive_byte
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 134              	rs485_receive_byte:
 135              	.LVL11:
 136              	.LFB146:
 135:../../../mod/rs485/rs485.c **** 
 136:../../../mod/rs485/rs485.c **** 
 137:../../../mod/rs485/rs485.c **** /*******************************************************************************
 138:../../../mod/rs485/rs485.c **** *                                                                              *
 139:../../../mod/rs485/rs485.c **** * PROCEDURE:                                                                   *
 140:../../../mod/rs485/rs485.c **** * 		rs485_receieve_byte                                                    *
 141:../../../mod/rs485/rs485.c **** *                                                                              *
 142:../../../mod/rs485/rs485.c **** * DESCRIPTION:                                                                 *
 143:../../../mod/rs485/rs485.c **** * 		Receives a byte from the RS485 interface                               *
 144:../../../mod/rs485/rs485.c **** *                                                                              *
 145:../../../mod/rs485/rs485.c **** *******************************************************************************/
 146:../../../mod/rs485/rs485.c **** RS485_STATUS rs485_receive_byte 
 147:../../../mod/rs485/rs485.c **** 	(
 148:../../../mod/rs485/rs485.c **** 	uint8_t* p_rx_byte	
 149:../../../mod/rs485/rs485.c **** 	)
 150:../../../mod/rs485/rs485.c **** {
 137              		.loc 1 150 1 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccYuozWE.s 			page 6


 141              		.loc 1 150 1 is_stmt 0 view .LVU25
 142 0000 08B5     		push	{r3, lr}
 143              	.LCFI4:
 144              		.cfi_def_cfa_offset 8
 145              		.cfi_offset 3, -8
 146              		.cfi_offset 14, -4
 147 0002 0146     		mov	r1, r0
 151:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 152:../../../mod/rs485/rs485.c ****  Local Variables
 153:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 154:../../../mod/rs485/rs485.c **** HAL_StatusTypeDef hal_status;
 148              		.loc 1 154 1 is_stmt 1 view .LVU26
 155:../../../mod/rs485/rs485.c **** 
 156:../../../mod/rs485/rs485.c **** 
 157:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 158:../../../mod/rs485/rs485.c ****  Initializations
 159:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 160:../../../mod/rs485/rs485.c **** hal_status = HAL_OK;
 149              		.loc 1 160 1 view .LVU27
 150              	.LVL12:
 161:../../../mod/rs485/rs485.c **** 
 162:../../../mod/rs485/rs485.c **** 
 163:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 164:../../../mod/rs485/rs485.c ****  API Function Implementation 
 165:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 166:../../../mod/rs485/rs485.c **** 
 167:../../../mod/rs485/rs485.c **** /* Receive byte */
 168:../../../mod/rs485/rs485.c **** hal_status = HAL_UART_Receive( &( RS485_HUART )  ,
 151              		.loc 1 168 1 view .LVU28
 152              		.loc 1 168 14 is_stmt 0 view .LVU29
 153 0004 4FF47A73 		mov	r3, #1000
 154 0008 0122     		movs	r2, #1
 155 000a 0648     		ldr	r0, .L15
 156              	.LVL13:
 157              		.loc 1 168 14 view .LVU30
 158 000c FFF7FEFF 		bl	HAL_UART_Receive
 159              	.LVL14:
 169:../../../mod/rs485/rs485.c ****                                p_rx_byte        , 
 170:../../../mod/rs485/rs485.c ****                                sizeof( uint8_t ), 
 171:../../../mod/rs485/rs485.c ****                                RS485_POLL_TIMEOUT );
 172:../../../mod/rs485/rs485.c **** 
 173:../../../mod/rs485/rs485.c **** /* Return HAL status */
 174:../../../mod/rs485/rs485.c **** switch ( hal_status )
 160              		.loc 1 174 1 is_stmt 1 view .LVU31
 161 0010 0346     		mov	r3, r0
 162 0012 10B1     		cbz	r0, .L12
 163 0014 0328     		cmp	r0, #3
 164 0016 02D1     		bne	.L13
 165 0018 0223     		movs	r3, #2
 166              	.L12:
 175:../../../mod/rs485/rs485.c **** 	{
 176:../../../mod/rs485/rs485.c **** 	case HAL_TIMEOUT:
 177:../../../mod/rs485/rs485.c **** 		{
 178:../../../mod/rs485/rs485.c **** 		return RS485_TIMEOUT;
 179:../../../mod/rs485/rs485.c **** 		}
 180:../../../mod/rs485/rs485.c **** 	case HAL_OK:
 181:../../../mod/rs485/rs485.c **** 		{
ARM GAS  /tmp/ccYuozWE.s 			page 7


 182:../../../mod/rs485/rs485.c **** 		return RS485_OK;
 183:../../../mod/rs485/rs485.c **** 		}
 184:../../../mod/rs485/rs485.c **** 	default:
 185:../../../mod/rs485/rs485.c **** 		{
 186:../../../mod/rs485/rs485.c **** 		return RS485_ERROR;
 187:../../../mod/rs485/rs485.c ****         }
 188:../../../mod/rs485/rs485.c **** 	}
 189:../../../mod/rs485/rs485.c **** } /* rs485_receive_byte */
 167              		.loc 1 189 1 is_stmt 0 view .LVU32
 168 001a 1846     		mov	r0, r3
 169              	.LVL15:
 170              		.loc 1 189 1 view .LVU33
 171 001c 08BD     		pop	{r3, pc}
 172              	.LVL16:
 173              	.L13:
 186:../../../mod/rs485/rs485.c ****         }
 174              		.loc 1 186 10 view .LVU34
 175 001e 0123     		movs	r3, #1
 176 0020 FBE7     		b	.L12
 177              	.L16:
 178 0022 00BF     		.align	2
 179              	.L15:
 180 0024 00000000 		.word	huart5
 181              		.cfi_endproc
 182              	.LFE146:
 184              		.section	.text.rs485_receive,"ax",%progbits
 185              		.align	1
 186              		.global	rs485_receive
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 191              	rs485_receive:
 192              	.LVL17:
 193              	.LFB147:
 190:../../../mod/rs485/rs485.c **** 
 191:../../../mod/rs485/rs485.c **** 
 192:../../../mod/rs485/rs485.c **** /*******************************************************************************
 193:../../../mod/rs485/rs485.c **** *                                                                              *
 194:../../../mod/rs485/rs485.c **** * PROCEDURE:                                                                   *
 195:../../../mod/rs485/rs485.c **** * 		rs485_receive                                                          *
 196:../../../mod/rs485/rs485.c **** *                                                                              *
 197:../../../mod/rs485/rs485.c **** * DESCRIPTION:                                                                 *
 198:../../../mod/rs485/rs485.c **** * 		Receives data from the RS485 interface and outputs to a buffer         *
 199:../../../mod/rs485/rs485.c **** *                                                                              *
 200:../../../mod/rs485/rs485.c **** *******************************************************************************/
 201:../../../mod/rs485/rs485.c **** RS485_STATUS rs485_receive
 202:../../../mod/rs485/rs485.c **** 	(
 203:../../../mod/rs485/rs485.c **** 	void*    rx_buffer_ptr,   /* Pointer to output data buffer */	
 204:../../../mod/rs485/rs485.c **** 	size_t   rx_buffer_size,  /* Number of bytes to recevie    */
 205:../../../mod/rs485/rs485.c **** 	uint32_t timeout          /* Timeout in ms                 */
 206:../../../mod/rs485/rs485.c **** 	)
 207:../../../mod/rs485/rs485.c **** {
 194              		.loc 1 207 1 is_stmt 1 view -0
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 0
 197              		@ frame_needed = 0, uses_anonymous_args = 0
 198              		.loc 1 207 1 is_stmt 0 view .LVU36
ARM GAS  /tmp/ccYuozWE.s 			page 8


 199 0000 08B5     		push	{r3, lr}
 200              	.LCFI5:
 201              		.cfi_def_cfa_offset 8
 202              		.cfi_offset 3, -8
 203              		.cfi_offset 14, -4
 204 0002 1346     		mov	r3, r2
 208:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 209:../../../mod/rs485/rs485.c ****  Local Variables
 210:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 211:../../../mod/rs485/rs485.c **** HAL_StatusTypeDef hal_status;    /* Return codes from HAL */
 205              		.loc 1 211 1 is_stmt 1 view .LVU37
 212:../../../mod/rs485/rs485.c **** 
 213:../../../mod/rs485/rs485.c **** 
 214:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 215:../../../mod/rs485/rs485.c ****  Initialization 
 216:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 217:../../../mod/rs485/rs485.c **** hal_status = HAL_OK;
 206              		.loc 1 217 1 view .LVU38
 207              	.LVL18:
 218:../../../mod/rs485/rs485.c **** 
 219:../../../mod/rs485/rs485.c **** 
 220:../../../mod/rs485/rs485.c **** /*------------------------------------------------------------------------------
 221:../../../mod/rs485/rs485.c ****  API Function Implementation 
 222:../../../mod/rs485/rs485.c **** ------------------------------------------------------------------------------*/
 223:../../../mod/rs485/rs485.c **** 
 224:../../../mod/rs485/rs485.c **** /* Receive data */
 225:../../../mod/rs485/rs485.c **** hal_status = HAL_UART_Receive( &( RS485_HUART ),
 208              		.loc 1 225 1 view .LVU39
 209              		.loc 1 225 14 is_stmt 0 view .LVU40
 210 0004 8AB2     		uxth	r2, r1
 211              	.LVL19:
 212              		.loc 1 225 14 view .LVU41
 213 0006 0146     		mov	r1, r0
 214              	.LVL20:
 215              		.loc 1 225 14 view .LVU42
 216 0008 0548     		ldr	r0, .L21
 217              	.LVL21:
 218              		.loc 1 225 14 view .LVU43
 219 000a FFF7FEFF 		bl	HAL_UART_Receive
 220              	.LVL22:
 226:../../../mod/rs485/rs485.c ****                                rx_buffer_ptr  , 
 227:../../../mod/rs485/rs485.c ****                                rx_buffer_size , 
 228:../../../mod/rs485/rs485.c ****                                timeout );
 229:../../../mod/rs485/rs485.c **** 
 230:../../../mod/rs485/rs485.c **** /* Return HAL status */
 231:../../../mod/rs485/rs485.c **** switch ( hal_status )
 221              		.loc 1 231 1 is_stmt 1 view .LVU44
 222 000e 0346     		mov	r3, r0
 223 0010 10B1     		cbz	r0, .L18
 224 0012 0328     		cmp	r0, #3
 225 0014 02D1     		bne	.L19
 226 0016 0223     		movs	r3, #2
 227              	.L18:
 232:../../../mod/rs485/rs485.c **** 	{
 233:../../../mod/rs485/rs485.c **** 	case HAL_TIMEOUT:
 234:../../../mod/rs485/rs485.c **** 		{
 235:../../../mod/rs485/rs485.c **** 		return RS485_TIMEOUT;
ARM GAS  /tmp/ccYuozWE.s 			page 9


 236:../../../mod/rs485/rs485.c **** 		}
 237:../../../mod/rs485/rs485.c **** 	case HAL_OK:
 238:../../../mod/rs485/rs485.c **** 		{
 239:../../../mod/rs485/rs485.c **** 		return RS485_OK;
 240:../../../mod/rs485/rs485.c **** 		}
 241:../../../mod/rs485/rs485.c **** 	default:
 242:../../../mod/rs485/rs485.c **** 		{
 243:../../../mod/rs485/rs485.c **** 		return RS485_ERROR;
 244:../../../mod/rs485/rs485.c ****         }
 245:../../../mod/rs485/rs485.c **** 	}
 246:../../../mod/rs485/rs485.c **** } /* rs485_receive */
 228              		.loc 1 246 1 is_stmt 0 view .LVU45
 229 0018 1846     		mov	r0, r3
 230              	.LVL23:
 231              		.loc 1 246 1 view .LVU46
 232 001a 08BD     		pop	{r3, pc}
 233              	.LVL24:
 234              	.L19:
 243:../../../mod/rs485/rs485.c ****         }
 235              		.loc 1 243 10 view .LVU47
 236 001c 0123     		movs	r3, #1
 237 001e FBE7     		b	.L18
 238              	.L22:
 239              		.align	2
 240              	.L21:
 241 0020 00000000 		.word	huart5
 242              		.cfi_endproc
 243              	.LFE147:
 245              		.text
 246              	.Letext0:
 247              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 248              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 249              		.file 4 "../../../lib/Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h750xx.h"
 250              		.file 5 "/usr/lib/gcc/arm-none-eabi/12.2.0/include/stddef.h"
 251              		.file 6 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 252              		.file 7 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 253              		.file 8 "../../../lib/Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 254              		.file 9 "../../../mod/rs485/rs485.h"
 255              		.file 10 "../../../lib/sdr_pin_defines_A0005.h"
ARM GAS  /tmp/ccYuozWE.s 			page 10


DEFINED SYMBOLS
                            *ABS*:0000000000000000 rs485.c
     /tmp/ccYuozWE.s:20     .text.rs485_transmit_byte:0000000000000000 $t
     /tmp/ccYuozWE.s:26     .text.rs485_transmit_byte:0000000000000000 rs485_transmit_byte
     /tmp/ccYuozWE.s:71     .text.rs485_transmit_byte:0000000000000020 $d
     /tmp/ccYuozWE.s:76     .text.rs485_transmit:0000000000000000 $t
     /tmp/ccYuozWE.s:82     .text.rs485_transmit:0000000000000000 rs485_transmit
     /tmp/ccYuozWE.s:123    .text.rs485_transmit:0000000000000014 $d
     /tmp/ccYuozWE.s:128    .text.rs485_receive_byte:0000000000000000 $t
     /tmp/ccYuozWE.s:134    .text.rs485_receive_byte:0000000000000000 rs485_receive_byte
     /tmp/ccYuozWE.s:180    .text.rs485_receive_byte:0000000000000024 $d
     /tmp/ccYuozWE.s:185    .text.rs485_receive:0000000000000000 $t
     /tmp/ccYuozWE.s:191    .text.rs485_receive:0000000000000000 rs485_receive
     /tmp/ccYuozWE.s:241    .text.rs485_receive:0000000000000020 $d

UNDEFINED SYMBOLS
HAL_UART_Transmit
huart5
HAL_UART_Receive
